<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head>
        <meta charset="utf-8">
        <title></title>
        <% include ../partials/head.ejs %>
    </head>
    <body>
        <% include ../partials/header.ejs %>
        <div class="container mt-3">
            <h1>Edit Recipe</h1>
            <form action="/recipe/<%= recipe._id %>?_method=PUT" method="post">
                <div class="form-row my-3">
                    <div class="col-md-12">
                        <label for="form-title">Title:</label>
                        <input type="text" class="form-control" name="title" id="form-title" value="<%= recipe.title %>" required="required" />
                    </div>
                </div>
                <div class="form-row my-3">
                    <div class="col-md-6">
                        <label for="form-ingredients">Ingredients:</label>
                        <textarea class="form-control" name="ingredients" id="form-ingredients"><%= recipe.ingredients %></textarea>
                    </div>
                    <div class="col-md-6">
                        <label for="form-directions">Directions:</label>
                        <textarea class="form-control" name="directions" id="form-directions"><%= recipe.directions %></textarea>
                    </div>
                </div>
                <div class="form-row my-3">
                    <div class="col-md-5">
                        <label for="form-images">Images:</label>
                        <div id="recipe-images">
                            <% recipe.images.forEach((image) => { %>
                                <input type="text" class="form-control" name="images[]" id="form-images"  value="<%= image %>" />
                            <% }) %>
                        </div>
                    </div>
                    <div class="col-md-1 mt-4">
                        <div class="btn-group">
                            <button type="button" class="btn btn-success" id="form-add">+</button>
                            <button type="button" class="btn btn-danger" id="form-remove">-</button>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <label for="form-credit">Credit:</label>
                        <input type="text" class="form-control" name="credit" id="form-credit" value="<%= recipe.credit %>" />
                    </div>
                </div>
                <input type="submit" class="btn btn-primary" value="Update Recipe" />
            </form>
        </div>
        <% include ../partials/footer.ejs %>
    </body>
</html>
